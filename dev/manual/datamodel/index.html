<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Data Model · Genser.jl</title><link rel="canonical" href="https://wardlem.github.io/Genser.jl/manual/datamodel/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Genser.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Genser</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../overview/">Manual Overview</a></li><li class="is-active"><a class="tocitem" href>Data Model</a><ul class="internal"><li><a class="tocitem" href="#Tags"><span>Tags</span></a></li><li><a class="tocitem" href="#Base-type"><span>Base type</span></a></li><li><a class="tocitem" href="#Nothing-types"><span>Nothing types</span></a></li><li><a class="tocitem" href="#Basic-types"><span>Basic types</span></a></li><li><a class="tocitem" href="#String-types"><span>String types</span></a></li><li><a class="tocitem" href="#Binary-types"><span>Binary types</span></a></li><li><a class="tocitem" href="#Additional-value-types"><span>Additional value types</span></a></li><li><a class="tocitem" href="#Sequence-types"><span>Sequence types</span></a></li><li><a class="tocitem" href="#Set-types"><span>Set types</span></a></li><li><a class="tocitem" href="#Tuple-types"><span>Tuple types</span></a></li><li><a class="tocitem" href="#Dict-types"><span>Dict types</span></a></li><li><a class="tocitem" href="#Record-types"><span>Record types</span></a></li><li><a class="tocitem" href="#Optional-types"><span>Optional types</span></a></li><li><a class="tocitem" href="#Variant-types"><span>Variant types</span></a></li><li><a class="tocitem" href="#Any-type"><span>Any type</span></a></li></ul></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../lib/public/">Public API</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Data Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Data Model</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/wardlem/Genser.jl/blob/master/docs/src/manual/datamodel.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Data-Model"><a class="docs-heading-anchor" href="#Data-Model">Data Model</a><a id="Data-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Model" title="Permalink"></a></h1><p>A large amount of Genser&#39;s functionality is provided by transforming primary data into an intermediate representation. This intermediate representation is called the &quot;Genser Data Model.&quot;</p><p>For the most part, you willn not need to think about the data model unless you need to implement custom behavior for your project&#39;s types or are implementing a (de)serializer plugin. Genser knows how to automatically derive it&#39;s data model from most Julia&#39;s built-in types.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Genser is currently in an early stage of development and the data model is likely to be refined as time goes on. A goal of Genser is to provide built-in support for all or most of the data types provided in Julia&#39;s base and standard library. If you run into a situation where a data type you need in your project is not yet supported, please <a href="https://github.com/wardlem/Genser.jl/issues">file an issue</a> so the type can be implemented.</p></div></div><h2 id="Tags"><a class="docs-heading-anchor" href="#Tags">Tags</a><a id="Tags-1"></a><a class="docs-heading-anchor-permalink" href="#Tags" title="Permalink"></a></h2><p>All Genser data model types have tag as part of their type. These tags typically match the type of data they contain, but may also be utilized to provide additional context. The tag for a genser value or type can be retrieved with the <code>tag</code> function.</p><pre><code class="language-julia">julia&gt; using Genser

julia&gt; Genser.tag(GenserInt64)
Genser.Tag(:int64)

julia&gt; Genser.tag(GenserURI)
Genser.Tag(:uri)</code></pre><p>Tags can be used for dispatching.</p><pre><code class="language-julia">handle_uri(::GenserDataType{Genser.uri}) = &quot;a URI tagged value&quot;</code></pre><p>It is possible to create custom Genser data model types with custom tags, though care must be taken to ensure the (de)serialization plugins know how to handle the value.</p><h2 id="Base-type"><a class="docs-heading-anchor" href="#Base-type">Base type</a><a id="Base-type-1"></a><a class="docs-heading-anchor-permalink" href="#Base-type" title="Permalink"></a></h2><p>The base type for all Genser data model types is <code>GenserDataType{tag}</code>.</p><h2 id="Nothing-types"><a class="docs-heading-anchor" href="#Nothing-types">Nothing types</a><a id="Nothing-types-1"></a><a class="docs-heading-anchor-permalink" href="#Nothing-types" title="Permalink"></a></h2><ul><li><code>GenserUndefined()</code></li><li><code>GenserNull()</code></li></ul><p>The default type for nothing values is <code>GenserNull</code>.</p><pre><code class="language-julia">julia&gt; gensertypefor(Nothing)
GenserNull

julia&gt; isequal(nothing, fromgenser(GenserUndefined()))
true</code></pre><p>The parent type for nothing values is <code>GenserNothingType{tag}</code>.</p><h2 id="Basic-types"><a class="docs-heading-anchor" href="#Basic-types">Basic types</a><a id="Basic-types-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-types" title="Permalink"></a></h2><ul><li><code>GenserInt8(::Int8)</code></li><li><code>GenserUInt8(::UInt8)</code></li><li><code>GenserInt16(::Int16)</code></li><li><code>GenserUInt16(::UInt16)</code></li><li><code>GenserInt32(::Int32)</code></li><li><code>GenserUInt32(::UInt32)</code></li><li><code>GenserInt64(::Int64)</code></li><li><code>GenserUInt64(::UInt64)</code></li><li><code>GenserInt128(::Int128)</code></li><li><code>GenserUInt128(::UInt128)</code></li><li><code>GenserBigInt(::BigInt)</code></li><li><code>GenserFloat16(::Float16)</code></li><li><code>GenserFloat32(::Float32)</code></li><li><code>GenserFloat64(::Float64)</code></li><li><code>GenserBool(::Bool)</code></li><li><code>GenserChar(::Char)</code></li></ul><pre><code class="language-julia">julia&gt; gensertypefor(UInt16)
GenserUInt16 (alias for GenserValue{UInt16, Genser.Tag(:uint16)})

julia&gt; gensertypefor(Char)
GenserChar (alias for GenserValue{Char, Genser.Tag(:char)})</code></pre><p>The parent type for basic types is <code>GenserValue{V, tag}</code> where <code>V</code> is the type of the value held by the type.</p><p>Additional, the following category types are available for dispatching.</p><ul><li><code>GenserNumberValue{V &lt;: Number}</code></li><li><code>GenserIntegerValue{V &lt;: Integer}</code></li><li><code>GenserSignedValue{V &lt;: Signed}</code></li><li><code>GenserUnsignedValue{V &lt;: Unsigned}</code></li><li><code>GenserFloatValue{V &lt;: AbstractFloat}</code></li></ul><h2 id="String-types"><a class="docs-heading-anchor" href="#String-types">String types</a><a id="String-types-1"></a><a class="docs-heading-anchor-permalink" href="#String-types" title="Permalink"></a></h2><p>Strings are handle much like basic types, though the tag is used to provide additional context about the meaning of contained value.</p><ul><li><code>GenserString(::String)</code></li><li><code>GenserURI(::String)</code></li></ul><pre><code class="language-julia">julia&gt; gensertypefor(String)
GenserValue{String, Genser.Tag(:str)}</code></pre><p>The category type <code>GenserStringValue{V &lt;: AbstractString}</code> may be used to dispatch on all genser string types.</p><p>The default type for all string values is <code>GenserString</code>.</p><h2 id="Binary-types"><a class="docs-heading-anchor" href="#Binary-types">Binary types</a><a id="Binary-types-1"></a><a class="docs-heading-anchor-permalink" href="#Binary-types" title="Permalink"></a></h2><p>A binary type is a type that represents <code>Vector{UInt8}</code> data. In general, they work in a similar manner to basic types. However, they contain an additional <code>Encoding</code> parameter that acts as a hint to deserializers about how to convert the value to a string if the format (e.g. JSON) does not support binary values natively.</p><ul><li><code>GenserBinary(::Vector{UInt8})</code></li></ul><p>The base type for binary values is <code>GenserBinaryValue{E &lt;: Encoding}</code>.  This type can be used to dispatch on all binary types regardless of the intended encoding.  The encoding for <code>GenserBinary</code> is <code>Genser.Encoding{:none}</code> which indicates that the value should not be stringified (in JSON it is serialized as an array of bytes).</p><p>The default type for all <code>Vector{UInt8}</code> values is <code>GenserBinary</code>.</p><pre><code class="language-julia">julia&gt; gensertypefor(Vector{UInt8})
GenserBinary (alias for GenserBinaryValue{Encoding{:none}})</code></pre><h2 id="Additional-value-types"><a class="docs-heading-anchor" href="#Additional-value-types">Additional value types</a><a id="Additional-value-types-1"></a><a class="docs-heading-anchor-permalink" href="#Additional-value-types" title="Permalink"></a></h2><ul><li><code>GenserUUID(::Base.UUID)</code></li><li><code>GenserSymbol(::Symbol)</code></li></ul><pre><code class="language-julia">julia&gt; gensertypefor(Base.UUID)
GenserUUID (alias for GenserValue{Base.UUID, Genser.Tag(:uuid)})

julia&gt; gensertypefor(Symbol)
GenserSymbol (alias for GenserValue{Symbol, Genser.Tag(:symbol)})</code></pre><h2 id="Sequence-types"><a class="docs-heading-anchor" href="#Sequence-types">Sequence types</a><a id="Sequence-types-1"></a><a class="docs-heading-anchor-permalink" href="#Sequence-types" title="Permalink"></a></h2><p>A sequence represents any array type other than <code>Vector{UInt8}</code>. All Genser sequence types are one-dimensional.</p><ul><li><code>GenserSequence{T &lt;: GenserDataType}</code></li></ul><p>The value of a sequence type is an <code>AbstractVector</code>.</p><pre><code class="language-julia">julia&gt; gensertypefor(Vector{String})
GenserSequence{GenserValue{String, Genser.Tag(:str)}}

julia&gt; gensertypefor(Matrix{UInt8})
GenserSequence{GenserUInt8}</code></pre><h2 id="Set-types"><a class="docs-heading-anchor" href="#Set-types">Set types</a><a id="Set-types-1"></a><a class="docs-heading-anchor-permalink" href="#Set-types" title="Permalink"></a></h2><p>A sequence represents an abstract set of values</p><ul><li><code>GenserSet{T &lt;: GenserDataType}</code></li></ul><p>The value of a set type is an <code>AbstractSet</code>.</p><p>A set type is typically serialized in the same format as a sequence type.</p><pre><code class="language-julia">julia&gt; gensertypefor(Set{Int64})
GenserSet{GenserInt64}

julia&gt; gensertypefor(BitSet)
GenserSet{GenserInt64}</code></pre><h2 id="Tuple-types"><a class="docs-heading-anchor" href="#Tuple-types">Tuple types</a><a id="Tuple-types-1"></a><a class="docs-heading-anchor-permalink" href="#Tuple-types" title="Permalink"></a></h2><p>A tuple type is a fixed-length sequence of heterogenous values.</p><ul><li><code>GenserTuple{T &lt;: Tuple}</code> where each type in the tuple is a <code>GenserDataType</code></li></ul><p>A tuple type is typically serialized in the same format as a sequence type.</p><p>This is the default type for all <code>Tuple</code> values.</p><pre><code class="language-julia">gensertypefor(Tuple{Char,Int32})
GenserTuple{Tuple{GenserChar, GenserInt32}}</code></pre><h2 id="Dict-types"><a class="docs-heading-anchor" href="#Dict-types">Dict types</a><a id="Dict-types-1"></a><a class="docs-heading-anchor-permalink" href="#Dict-types" title="Permalink"></a></h2><p>A dict type is a non-fixed sized container of key-value pairs.</p><ul><li><code>GenserDict{K &lt;: GenserDataType, V &lt;: GenserDataType}</code></li></ul><p>For compatibility with (de)serializers, it is recommended that serialized dictionarys contain keys that can be converted to and from a string.</p><pre><code class="language-julia">julia&gt; gensertypefor(Dict{Symbol,String})
GenserDict{GenserSymbol, GenserValue{String, Genser.Tag(:str)}}

julia&gt; gensertypefor(Base.ImmutableDict{Symbol,String})
GenserDict{GenserSymbol, GenserValue{String, Genser.Tag(:str)}}</code></pre><p>A dict type is the default type for all <code>AbstractDict</code> values.</p><h2 id="Record-types"><a class="docs-heading-anchor" href="#Record-types">Record types</a><a id="Record-types-1"></a><a class="docs-heading-anchor-permalink" href="#Record-types" title="Permalink"></a></h2><p>A record type is a fixed length sequence of heterogenous key-value pairs.</p><ul><li><code>GensorRecord{T &lt;: NamedTuple}</code> where each type in the named tuple is a <code>GenserDataType</code></li></ul><p>The keys of a record type are always symbol values. Genser always stores the record as a named tuple internally.</p><p>A record type is the default type for all <code>NamedTuple</code> and <code>struct</code> values.</p><pre><code class="language-julia">julia&gt; gensertypefor(@NamedTuple{name::String, age::UInt8})
GenserRecord{NamedTuple{(:name, :age), Tuple{GenserValue{String, Genser.Tag(:str)}, GenserUInt8}}}

julia&gt; struct Person
           name::String
           age::UInt8
       end

julia&gt; gensertypefor(Person)
GenserRecord{NamedTuple{(:name, :age), Tuple{GenserValue{String, Genser.Tag(:str)}, GenserUInt8}}}</code></pre><h2 id="Optional-types"><a class="docs-heading-anchor" href="#Optional-types">Optional types</a><a id="Optional-types-1"></a><a class="docs-heading-anchor-permalink" href="#Optional-types" title="Permalink"></a></h2><p>An optional type is a type that may or may not have a value.</p><ul><li><code>GenserOptional{T &lt;: GenserDataType}</code></li></ul><p>An optional type is the default type for all <code>Union</code> types that include <code>Nothing</code>.</p><pre><code class="language-julia">julia&gt; gensertypefor(Union{Symbol,Nothing})
GenserOptional{GenserSymbol}</code></pre><h2 id="Variant-types"><a class="docs-heading-anchor" href="#Variant-types">Variant types</a><a id="Variant-types-1"></a><a class="docs-heading-anchor-permalink" href="#Variant-types" title="Permalink"></a></h2><p>A variant is a value that can contain a value of one or more different types.</p><ul><li><code>GenserVariant{T &lt;: GenserDataType}</code> where T is a Union.</li></ul><p>A variant type is the default for all <code>Union</code> types that do not include <code>Nothing</code>.</p><pre><code class="language-julia">julia&gt; gensertypefor(Union{Int32,Char})
GenserVariant{Union{GenserChar, GenserInt32}}</code></pre><h2 id="Any-type"><a class="docs-heading-anchor" href="#Any-type">Any type</a><a id="Any-type-1"></a><a class="docs-heading-anchor-permalink" href="#Any-type" title="Permalink"></a></h2><p>The any type is a wrapper type that contains any Genser sub value.</p><pre><code class="language-julia">julia&gt; gensertypefor(Any)
GenserAny</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../overview/">« Manual Overview</a><a class="docs-footer-nextpage" href="../../lib/public/">Public API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 5 May 2021 13:59">Wednesday 5 May 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
